(function(a){a.noticeData=function(){return data={us:{status:"OPT_IN",lang:"en"},ag:{status:"OPT_IN",lang:"en"},ai:{status:"OPT_IN",lang:"en"},aw:{status:"OPT_IN",lang:"en"},bb:{status:"OPT_IN",lang:"en"},bm:{status:"OPT_IN",lang:"en"},bs:{status:"OPT_IN",lang:"en"},ca:{status:"OPT_IN",lang:"en"},gd:{status:"OPT_IN",lang:"en"},gy:{status:"OPT_IN",lang:"en"},jm:{status:"OPT_IN",lang:"en"},kn:{status:"OPT_IN",lang:"en"},ky:{status:"OPT_IN",lang:"en"},ms:{status:"OPT_IN",lang:"en"},sr:{status:"OPT_IN",lang:"en"},tc:{status:"OPT_IN",lang:"en"},tt:{status:"OPT_IN",lang:"en"},vc:{status:"OPT_IN",lang:"en"},vg:{status:"OPT_IN",lang:"en"},ca:{status:"OPT_IN",lang:"fr"},at:{status:"OPT_IN",lang:"de"},ch:{status:"OPT_IN",lang:"de"},ch:{status:"OPT_IN",lang:"fr"},de:{status:"OPT_IN",lang:"de"},dk:{status:"OPT_IN",lang:"da"},fi:{status:"OPT_IN",lang:"fi"},no:{status:"OPT_IN",lang:"no"},se:{status:"OPT_IN",lang:"sv"},uk:{status:"OPT_IN",lang:"en"},ie:{status:"OPT_IN",lang:"en"},be:{status:"OPT_IN",lang:"en"},nl:{status:"OPT_IN",lang:"nl"},fr:{status:"OPT_IN",lang:"fr"},it:{status:"OPT_IN",lang:"it"},cy:{status:"OPT_IN",lang:"en"},es:{status:"OPT_IN",lang:"es"},gr:{status:"OPT_IN",lang:"el"},il:{status:"OPT_IN",lang:"he"},pt:{status:"OPT_IN",lang:"pt"},ar:{status:"OPT_IN",lang:"es"},bo:{status:"OPT_IN",lang:"es"},br:{status:"OPT_IN",lang:"pt"},cl:{status:"OPT_IN",lang:"es"},co:{status:"OPT_IN",lang:"es"},"do":{status:"OPT_IN",lang:"en"},ec:{status:"OPT_IN",lang:"es"},mx:{status:"OPT_IN",lang:"es"},pe:{status:"OPT_IN",lang:"es"},py:{status:"OPT_IN",lang:"es"},uy:{status:"OPT_IN",lang:"es"},ve:{status:"OPT_IN",lang:"es"},au:{status:"OPT_IN",lang:"en"},id:{status:"OPT_IN",lang:"en"},my:{status:"OPT_IN",lang:"en"},ph:{status:"OPT_IN",lang:"en"},sg:{status:"OPT_IN",lang:"en"},th:{status:"OPT_IN",lang:"en"},vn:{status:"OPT_IN",lang:"en"},cn:{status:"OPT_IN",lang:"zh"},hk:{status:"OPT_IN",lang:"en"},tw:{status:"OPT_IN",lang:"zh"},bd:{status:"OPT_IN",lang:"en"},"in":{status:"OPT_IN",lang:"en"},lk:{status:"OPT_IN",lang:"en"},kp:{status:"OPT_IN",lang:"ko"},kr:{status:"OPT_IN",lang:"ko"},ae:{status:"OPT_IN",lang:"en"},bg:{status:"OPT_IN",lang:"bg"},bh:{status:"OPT_IN",lang:"en"},cz:{status:"OPT_IN",lang:"cs"},dz:{status:"OPT_IN",lang:"fr"},ee:{status:"OPT_IN",lang:"et"},eg:{status:"OPT_IN",lang:"en"},hr:{status:"OPT_IN",lang:"hr"},hu:{status:"OPT_IN",lang:"hu"},jo:{status:"OPT_IN",lang:"en"},kw:{status:"OPT_IN",lang:"en"},lb:{status:"OPT_IN",lang:"en"},lt:{status:"OPT_IN",lang:"lt"},lv:{status:"OPT_IN",lang:"lv"},ma:{status:"OPT_IN",lang:"fr"},mk:{status:"OPT_IN",lang:"mk"},om:{status:"OPT_IN",lang:"en"},pk:{status:"OPT_IN",lang:"en"},pl:{status:"OPT_IN",lang:"pl"},qa:{status:"OPT_IN",lang:"en"},ro:{status:"OPT_IN",lang:"ro"},rs:{status:"OPT_IN",lang:"sr"},me:{status:"OPT_IN",lang:"sr"},ru:{status:"OPT_IN",lang:"ru"},sa:{status:"OPT_IN",lang:"en"},si:{status:"OPT_IN",lang:"si"},sk:{status:"OPT_IN",lang:"sk"},tn:{status:"OPT_IN",lang:"fr"},tr:{status:"OPT_IN",lang:"tr"},ua:{status:"OPT_IN",lang:"uk"},za:{status:"OPT_IN",lang:"en"},ad:{status:"OPT_IN",lang:"en"},af:{status:"OPT_IN",lang:"en"},al:{status:"OPT_IN",lang:"en"},am:{status:"OPT_IN",lang:"en"},an:{status:"OPT_IN",lang:"en"},ao:{status:"OPT_IN",lang:"pt"},as:{status:"OPT_IN",lang:"en"},ax:{status:"OPT_IN",lang:"en"},az:{status:"OPT_IN",lang:"en"},ba:{status:"OPT_IN",lang:"en"},bf:{status:"OPT_IN",lang:"en"},bi:{status:"OPT_IN",lang:"en"},bj:{status:"OPT_IN",lang:"en"},bn:{status:"OPT_IN",lang:"en"},bt:{status:"OPT_IN",lang:"en"},bv:{status:"OPT_IN",lang:"en"},bw:{status:"OPT_IN",lang:"en"},by:{status:"OPT_IN",lang:"en"},bz:{status:"OPT_IN",lang:"en"},cc:{status:"OPT_IN",lang:"en"},cd:{status:"OPT_IN",lang:"en"},cf:{status:"OPT_IN",lang:"en"},cg:{status:"OPT_IN",lang:"en"},ci:{status:"OPT_IN",lang:"en"},ck:{status:"OPT_IN",lang:"en"},cm:{status:"OPT_IN",lang:"en"},cr:{status:"OPT_IN",lang:"en"},cu:{status:"OPT_IN",lang:"en"},cv:{status:"OPT_IN",lang:"en"},cx:{status:"OPT_IN",lang:"en"},dj:{status:"OPT_IN",lang:"en"},eh:{status:"OPT_IN",lang:"en"},er:{status:"OPT_IN",lang:"en"},et:{status:"OPT_IN",lang:"en"},fj:{status:"OPT_IN",lang:"en"},fk:{status:"OPT_IN",lang:"en"},fm:{status:"OPT_IN",lang:"en"},fo:{status:"OPT_IN",lang:"en"},ga:{status:"OPT_IN",lang:"en"},ge:{status:"OPT_IN",lang:"en"},gf:{status:"OPT_IN",lang:"en"},gg:{status:"OPT_IN",lang:"en"},gh:{status:"OPT_IN",lang:"en"},gi:{status:"OPT_IN",lang:"en"},gl:{status:"OPT_IN",lang:"en"},gm:{status:"OPT_IN",lang:"en"},gn:{status:"OPT_IN",lang:"en"},gp:{status:"OPT_IN",lang:"en"},gq:{status:"OPT_IN",lang:"en"},gs:{status:"OPT_IN",lang:"en"},gt:{status:"OPT_IN",lang:"en"},gu:{status:"OPT_IN",lang:"en"},gw:{status:"OPT_IN",lang:"en"},hm:{status:"OPT_IN",lang:"en"},hn:{status:"OPT_IN",lang:"en"},ht:{status:"OPT_IN",lang:"en"},im:{status:"OPT_IN",lang:"en"},io:{status:"OPT_IN",lang:"en"},iq:{status:"OPT_IN",lang:"en"},ir:{status:"OPT_IN",lang:"en"},is:{status:"OPT_IN",lang:"en"},je:{status:"OPT_IN",lang:"en"},ke:{status:"OPT_IN",lang:"en"},kg:{status:"OPT_IN",lang:"en"},kh:{status:"OPT_IN",lang:"en"},ki:{status:"OPT_IN",lang:"en"},km:{status:"OPT_IN",lang:"en"},kp:{status:"OPT_IN",lang:"en"},kz:{status:"OPT_IN",lang:"en"},la:{status:"OPT_IN",lang:"en"},li:{status:"OPT_IN",lang:"en"},lr:{status:"OPT_IN",lang:"en"},ls:{status:"OPT_IN",lang:"en"},lu:{status:"OPT_IN",lang:"en"},ly:{status:"OPT_IN",lang:"en"},mc:{status:"OPT_IN",lang:"en"},md:{status:"OPT_IN",lang:"en"},mg:{status:"OPT_IN",lang:"en"},mh:{status:"OPT_IN",lang:"en"},mk:{status:"OPT_IN",lang:"en"},ml:{status:"OPT_IN",lang:"en"},mm:{status:"OPT_IN",lang:"en"},mn:{status:"OPT_IN",lang:"en"},mo:{status:"OPT_IN",lang:"en"},mp:{status:"OPT_IN",lang:"en"},mq:{status:"OPT_IN",lang:"en"},mr:{status:"OPT_IN",lang:"en"},mt:{status:"OPT_IN",lang:"en"},mu:{status:"OPT_IN",lang:"en"},mv:{status:"OPT_IN",lang:"en"},mw:{status:"OPT_IN",lang:"en"},mz:{status:"OPT_IN",lang:"en"},na:{status:"OPT_IN",lang:"en"},nc:{status:"OPT_IN",lang:"en"},ne:{status:"OPT_IN",lang:"en"},nf:{status:"OPT_IN",lang:"en"},ng:{status:"OPT_IN",lang:"en"},ni:{status:"OPT_IN",lang:"en"},np:{status:"OPT_IN",lang:"en"},nr:{status:"OPT_IN",lang:"en"},nu:{status:"OPT_IN",lang:"en"},nz:{status:"OPT_IN",lang:"en"},pa:{status:"OPT_IN",lang:"en"},pf:{status:"OPT_IN",lang:"en"},pg:{status:"OPT_IN",lang:"en"},pm:{status:"OPT_IN",lang:"en"},pn:{status:"OPT_IN",lang:"en"},pr:{status:"OPT_IN",lang:"en"},ps:{status:"OPT_IN",lang:"en"},pw:{status:"OPT_IN",lang:"en"},re:{status:"OPT_IN",lang:"en"},rw:{status:"OPT_IN",lang:"en"},sb:{status:"OPT_IN",lang:"en"},sc:{status:"OPT_IN",lang:"en"},sd:{status:"OPT_IN",lang:"en"},sh:{status:"OPT_IN",lang:"en"},sj:{status:"OPT_IN",lang:"en"},sl:{status:"OPT_IN",lang:"en"},si:{status:"OPT_IN",lang:"sl"},sm:{status:"OPT_IN",lang:"en"},sn:{status:"OPT_IN",lang:"en"},so:{status:"OPT_IN",lang:"en"},sp:{status:"OPT_IN",lang:"en"},st:{status:"OPT_IN",lang:"en"},sv:{status:"OPT_IN",lang:"en"},sy:{status:"OPT_IN",lang:"en"},sz:{status:"OPT_IN",lang:"en"},td:{status:"OPT_IN",lang:"en"},tf:{status:"OPT_IN",lang:"en"},tg:{status:"OPT_IN",lang:"en"},tj:{status:"OPT_IN",lang:"en"},tk:{status:"OPT_IN",lang:"en"},tl:{status:"OPT_IN",lang:"en"},tm:{status:"OPT_IN",lang:"en"},to:{status:"OPT_IN",lang:"en"},tv:{status:"OPT_IN",lang:"en"},tz:{status:"OPT_IN",lang:"en"},ug:{status:"OPT_IN",lang:"en"},uz:{status:"OPT_IN",lang:"en"},va:{status:"OPT_IN",lang:"en"},vi:{status:"OPT_IN",lang:"en"},vu:{status:"OPT_IN",lang:"en"},wf:{status:"OPT_IN",lang:"en"},ws:{status:"OPT_IN",lang:"en"},ye:{status:"OPT_IN",lang:"en"},yt:{status:"OPT_IN",lang:"en"},zm:{status:"OPT_IN",lang:"en"},zw:{status:"OPT_IN",lang:"en"},vn:{status:"OPT_IN",lang:"vi"},cr:{status:"OPT_IN",lang:"es"},kz:{status:"OPT_IN",lang:"kk"},kz:{status:"OPT_IN",lang:"ru"},uz:{status:"OPT_IN",lang:"uz"},uz:{status:"OPT_IN",lang:"ru"},bw:{status:"OPT_IN",lang:"en"},cm:{status:"OPT_IN",lang:"en"},gh:{status:"OPT_IN",lang:"en"},sl:{status:"OPT_IN",lang:"en"},mw:{status:"OPT_IN",lang:"en"},tz:{status:"OPT_IN",lang:"en"},na:{status:"OPT_IN",lang:"en"},sc:{status:"OPT_IN",lang:"en"},ug:{status:"OPT_IN",lang:"en"},et:{status:"OPT_IN",lang:"en"},bf:{status:"OPT_IN",lang:"fr"},cm:{status:"OPT_IN",lang:"fr"},td:{status:"OPT_IN",lang:"fr"},cg:{status:"OPT_IN",lang:"fr"},cd:{status:"OPT_IN",lang:"fr"},ga:{status:"OPT_IN",lang:"fr"},ci:{status:"OPT_IN",lang:"fr"},mg:{status:"OPT_IN",lang:"fr"},mu:{status:"OPT_IN",lang:"fr"},ne:{status:"OPT_IN",lang:"fr"},sn:{status:"OPT_IN",lang:"fr"},mz:{status:"OPT_IN",lang:"pt"},jp:{status:"OPT_IN",lang:"ja"},cw:{status:"OPT_IN",lang:"en"},dm:{status:"OPT_IN",lang:"en"},lc:{status:"OPT_IN",lang:"en"},gb:{status:"OPT_IN",lang:"en"},aq:{status:"OPT_IN",lang:"en"},bl:{status:"OPT_IN",lang:"en"},bq:{status:"OPT_IN",lang:"en"},mf:{status:"OPT_IN",lang:"en"},ss:{status:"OPT_IN",lang:"en"},sx:{status:"OPT_IN",lang:"en"},um:{status:"OPT_IN",lang:"en"}}};a.noticeandchoice=function(c){var e={noticechoiceStatus:a.noticeData(),serverUrl:"//www.ibm.com/NoticeNChoice",ecmJsonUrl:"//www.ibm.com",ncForm:"",privacyDiv:"",countryObj:"",AllMediaObj:[],mediaOptionsCheckboxIDs:[],mediaOptions:{},responseJsonData:null,ncNoMediaErrorText:null,ncMediaChoice:null,nc_ifAllIBMChecked:false,pageCountry:null,countryStatus:"OPT_IN",formCountry:null,retrievedPrefCodes:"",ncHidden_ErrOfferCode:"",parserData:"",ncHidden_ErrPrefCode:"",ncECM_JSON:null,customFlag:false,questionType:"",isAllCodeisError:false,noticeOptionChangedEmailOrAllMedia:false,isGranularOn:false,defaultText:"",countryData:"",mediaClick:[],countryvalue:{Afghanistan:"AF","Ã…land Islands":"AX",Albania:"AL",Algeria:"DZ","American Samoa":"AS",AndorrA:"AD",Angola:"AO",Anguilla:"AI",Antarctica:"AQ","Antigua and Barbuda":"AG",Argentina:"AR",Armenia:"AM",Aruba:"AW",Australia:"AU",Austria:"AT",Azerbaijan:"AZ",Bahamas:"BS",Bahrain:"BH",Bangladesh:"BD",Barbados:"BB",Belarus:"BY",Belgium:"BE",Belize:"BZ",Benin:"BJ",Bermuda:"BM",Bhutan:"BT",Bolivia:"BO","Bosnia and Herzegovina":"BA",Botswana:"BW","Bouvet Island":"BV",Brazil:"BR","British Indian Ocean Territory":"IO","Brunei Darussalam":"BN",Bulgaria:"BG","Burkina Faso":"BF",Burundi:"BI",Cambodia:"KH",Cameroon:"CM",Canada:"CA","Cape Verde":"CV","Cayman Islands":"KY","Central African Republic":"CF",Chad:"TD",Chile:"CL",China:"CN","Christmas Island":"CX","Cocos (Keeling) Islands":"CC",Colombia:"CO",Comoros:"KM",Congo:"CG","Congo, The Democratic Republic of the":"CD","Cook Islands":"CK","Costa Rica":"CR","Cote D'Ivoire":"CI",Croatia:"HR",Cuba:"CU",Cyprus:"CY","Czech Republic":"CZ",Denmark:"DK",Djibouti:"DJ",Dominica:"DM","Dominican Republic":"DO",Ecuador:"EC",Egypt:"EG","El Salvador":"SV","Equatorial Guinea":"GQ",Eritrea:"ER",Estonia:"EE",Ethiopia:"ET","Falkland Islands (Malvinas)":"FK","Faroe Islands":"FO",Fiji:"FJ",Finland:"FI",France:"FR","French Guiana":"GF","French Polynesia":"PF","French Southern Territories":"TF",Gabon:"GA",Gambia:"GM",Georgia:"GE",Germany:"DE",Ghana:"GH",Gibraltar:"GI",Greece:"GR",Greenland:"GL",Grenada:"GD",Guadeloupe:"GP",Guam:"GU",Guatemala:"GT",Guernsey:"GG",Guinea:"GN","Guinea-Bissau":"GW",Guyana:"GY",Haiti:"HT","Heard Island and Mcdonald Islands":"HM","Holy See (Vatican City State)":"VA",Honduras:"HN","Hong Kong":"HK",Hungary:"HU",Iceland:"IS",India:"IN",Indonesia:"ID","Iran, Islamic Republic Of":"IR",Iraq:"IQ",Ireland:"IE","Isle of Man":"IM",Israel:"IL",Italy:"IT",Jamaica:"JM",Japan:"JP",Jersey:"JE",Jordan:"JO",Kazakhstan:"KZ",Kenya:"KE",Kiribati:"KI","Korea, Democratic People'S Republic of":"KP","Korea, Republic of":"KR",Kuwait:"KW",Kyrgyzstan:"KG","Lao People'S Democratic Republic":"LA",Latvia:"LV",Lebanon:"LB",Lesotho:"LS",Liberia:"LR","Libyan Arab Jamahiriya":"LY",Liechtenstein:"LI",Lithuania:"LT",Luxembourg:"LU",Macao:"MO","Macedonia, The Former Yugoslav Republic of":"MK",Madagascar:"MG",Malawi:"MW",Malaysia:"MY",Maldives:"MV",Mali:"ML",Malta:"MT","Marshall Islands":"MH",Martinique:"MQ",Mauritania:"MR",Mauritius:"MU",Mayotte:"YT",Mexico:"MX","Micronesia, Federated States of":"FM","Moldova, Republic of":"MD",Monaco:"MC",Mongolia:"MN",Montserrat:"MS",Morocco:"MA",Mozambique:"MZ",Myanmar:"MM",Namibia:"NA",Nauru:"NR",Nepal:"NP",Netherlands:"NL","Netherlands Antilles":"AN","New Caledonia":"NC","New Zealand":"NZ",Nicaragua:"NI",Niger:"NE",Nigeria:"NG",Niue:"NU","Norfolk Island":"NF","Northern Mariana Islands":"MP",Norway:"NO",Oman:"OM",Pakistan:"PK",Palau:"PW","Palestinian Territory, Occupied":"PS",Panama:"PA","Papua New Guinea":"PG",Paraguay:"PY",Peru:"PE",Philippines:"PH",Pitcairn:"PN",Poland:"PL",Portugal:"PT","Puerto Rico":"PR",Qatar:"QA",Reunion:"RE",Romania:"RO","Russian Federation":"RU",RWANDA:"RW","Saint Helena":"SH","Saint Kitts and Nevis":"KN","Saint Lucia":"LC","Saint Pierre and Miquelon":"PM","Saint Vincent and the Grenadines":"VC",Samoa:"WS","San Marino":"SM","Sao Tome and Principe":"ST","Saudi Arabia":"SA",Senegal:"SN","Serbia and Montenegro":"CS",Seychelles:"SC","Sierra Leone":"SL",Singapore:"SG",Slovakia:"SK",Slovenia:"SI","Solomon Islands":"SB",Somalia:"SO","South Africa":"ZA","South Georgia and the South Sandwich Islands":"GS",Spain:"ES","Sri Lanka":"LK",Sudan:"SD",Suriname:"SR","Svalbard and Jan Mayen":"SJ",Swaziland:"SZ",Sweden:"SE",Switzerland:"CH","Syrian Arab Republic":"SY","Taiwan, Province of China":"TW",Tajikistan:"TJ","Tanzania, United Republic of":"TZ",Thailand:"TH","Timor-Leste":"TL",Togo:"TG",Tokelau:"TK",Tonga:"TO","Trinidad and Tobago":"TT",Tunisia:"TN",Turkey:"TR",Turkmenistan:"TM","Turks and Caicos Islands":"TC",Tuvalu:"TV",Uganda:"UG",Ukraine:"UA","United Arab Emirates":"AE","United Kingdom":"GB","United States":"US","United States Minor Outlying Islands":"UM",Uruguay:"UY",Uzbekistan:"UZ",Vanuatu:"VU",Venezuela:"VE","Viet Nam":"VN","Virgin Islands, British":"VG","Virgin Islands, U.S.":"VI","Wallis and Futuna":"WF","Western Sahara":"EH",Yemen:"YE",Zambia:"ZM",Zimbabwe:"ZW"},checkBoxFlag:false,emailoptInOut:"DEFAULT",defaultunchecked:false,defaultStatusMedia:{},countryValue:"",noticeOptionChanged:false,userChangOption:{},formLoading:false,ajaxCurrentlyRunningOnPage:false,country:"",lang:"",labels:{"0":"EMAIL","1":"PHONE","2":"POSTAL","3":"FAX","4":"OTHER"}},f=this,c=c||{},b;f.init=function(){b=a.extend({},e,c);b.ncForm=a("#"+b.id.form);if(b.ncForm.length===0){return true}if(!b.id.preText&&!b.id.privacyText){var l=a("#"+b.id.privacyDiv);if(l.length!==0){var k='<p><img src="https://1.www.s81c.com/i/common/loading.gif"> <b><strong> Loading Privacy Preferences ... </strong> </b></p>';l.html(k).addClass("ibm-notice-choice-container");b.privacyDiv=l}}if(typeof b.defaultcountry==="undefinded"||b.defaultcountry===""){return true}var h=b.defaultcountry.split("-");b.country=h[0];b.lang=h[1];f.initDom();var j=b.ecmJsonUrl+"/common/translations/"+b.country+"/"+b.lang+"/nc_content_v18.js";var g={title:"pageLoad",defaultUrl:b.ecmJsonUrl+"/common/translations/zz/en/nc_content_v18.js",time:5000,flag:false};f.callingEcmSevice(j,g)};f.callingEcmSevice=function(g,h){NoticeChoice={};a.ajax({dataType:"script",url:g,timeout:h.time}).done(function(){switch(h.title){case"pageLoad":if(typeof NoticeChoice.Content==="undefined"){NoticeChoice.Content=b.countryData=f.setWorldWide()}f.onTranslationLoaded(NoticeChoice.Content);break;case"ecmDataFeedJson":if(typeof NoticeChoice.GranularChoices==="undefined"&&h.flag===false){h.flag=true;f.callingEcmSevice(h.defaultUrl,h)}else{if(typeof NoticeChoice.GranularChoices!=="undefined"){f.granularChoices(NoticeChoice.GranularChoices)}else{b.isGranularOn=false}}break;case"countryChange":if(typeof NoticeChoice.Content==="undefined"){NoticeChoice.Content=b.countryData=f.setWorldWide()}else{b.countryData=NoticeChoice.Content}f.changeFormCountryOptions(NoticeChoice.Content);break}}).fail(function(k){if(h.flag===false){h.flag=true;switch(h.title){case"pageLoad":f.onTranslationLoaded(f.setWorldWide());break;case"ecmDataFeedJson":f.callingEcmSevice(h.defaultUrl,h);break;case"countryChange":b.countryData=NoticeChoice.Content;f.changeFormCountryOptions(f.setWorldWide());break}}else{var j=a("<p/>").append("I accept ").append(a("<a>").attr({href:"http://www.ibm.com/privacy/"+b.country+"/"+b.lang}).html("IBM's Privacy statement"));b.privacyDiv.html(j)}})};f.onTranslationLoaded=function(m){b.responseJsonData=m;b.ncNoMediaErrorText=m.OtherPreferences.noMediaErrorTextt;b.ncMediaChoice=m.OtherPreferences.mediaChoice;b.nc_ifAllIBMChecked=a.parseJSON(m.OtherPreferences.allIBMNoticeChecked);var j=b.questionType=b.questionType;var l="";if(typeof b.questionChoice!=="undefined"){l=b.questionChoice}else{b.questionChoice=""}if((typeof j==="undefined"&&j==="")||(l!==""&&typeof l!=="undefined")){b.questionType="questionChoice"}f.coutryStatus(b.responseJsonData);if(b.country!==b.pageCountry){b.formCountry=m.cc_name;if((b.granular)&&(b.granular.toLowerCase()==="on")){var k=b.offerCode;if(typeof k!=="undefined"&&k!==""){var h={url:b.serverUrl+"/Controller?country=us&language=en&sid=103&offerCode="+k,callback:"ibmCommonDynamicNavShowResults",time:5000,data:{},name:"officerCode"};f.serviceAjaxCall(h)}else{f.ecmDataFeedJson()}}else{b.isGranularOn=false;f.jsonParser(b);if(b.countryObj){var g=b.countryObj.val();if(g!==""){if(g.length>2){g=b.countryvalue[g]}f.onChangeCountry(g,b)}}}}};f.granularChoices=function(h){b.ncECM_JSON=h;if(typeof b.dcSubject!=="undefined"&&b.dcSubject!==""){b.isGranularOn=true}f.jsonParser(b);var g=b.countryObj.val();if(g){if(g.length>2){g=b.countryvalue[g]}f.onChangeCountry(g,b)}};f.changeFormCountryOptions=function(k){f.coutryStatus(k);var h=b.parserData,g="";if((b.granular)&&b.granular.toLowerCase()==="on"&&k.GranularPreference.EnglishGranularText!==""&&b.lang==="en"){g=k.GranularPreference.EnglishGranularText}else{if(k.OtherPreferences.englishNoticeText!==""&&b.lang==="en"){g=k.OtherPreferences.englishNoticeText}else{g=b.defaultText}}if(b.questionType==="1"){g=b.defaultText}a("#"+b.id.privacyDiv+" a").attr("target","_blank");if(b.noticeOptionChanged===true){if(b.questionType!=="1"){if(b.questionType==="AllMedia"&&b.isGranularOn===false){if(b.id.preText&&b.id.privacyText){a("#"+b.id.preText).html(g)}else{a("#ncHeading label").html(g)}}else{if(b.id.preText&&b.id.privacyText){a("#"+b.id.preText).html(g)}else{a("#ncHeading").html(g)}}}if(!b.id.preText&&!b.id.privacyText){b.privacyDiv.find("a").attr("target","_blank")}return}if(b.isGranularOn===true){switch(b.countryStatus){case"OPT_IN":a("#NC_Granular_Preferences :checked").prop("checked",false).trigger("change");break;case"OPT_OUT":if(b.emailoptInOut==="OPT_OUT"){a("#NC_Granular_Preferences :checked").prop("checked",false).trigger("change")}else{a("#NC_Granular_Preferences :input[type=checkbox]:not(:last)").prop("checked",true).trigger("change")}break}if(b.questionType==="AllMedia"){b.defaultStatusMedia.AllMedia=JSON.parse(k.OptInContent.oneQuestionApp[0].checked);h=[]}else{if(b.questionType==="1"){b.defaultStatusMedia.EMAIL=JSON.parse(k.OptInContent.oneQuestionApp[0].checked);h=[]}}if(b.id.preText&&b.id.privacyText){a("#"+b.id.preText).html(g)}else{a("#ncHeading").html(g)}}else{var j=b.questionType;switch(j){case"AllMedia":if(b.countryStatus==="OPT_IN"||b.emailoptInOut==="OPT_OUT"){b.AllMediaObj.prop("checked",false).trigger("change");b.defaultunchecked=true}else{if(b.countryStatus==="OPT_OUT"||b.emailoptInOut==="OPT_IN"){b.AllMediaObj.prop("checked",true).trigger("change")}}if(b.id.preText&&b.id.privacyText){a("#"+b.id.preText).html(g)}else{a("#ncHeading label").html(g)}h=[];break;case"1":break;default:if(b.id.preText&&b.id.privacyText){a("#"+b.id.preText).html(g)}else{a("#ncHeading").html(g)}break}}if(b.id.question1){$questionbox=a("#"+b.id.question1)}a.map(h,function(q){if(q.checked!=="hidden"){var m=b.labels[q.id],o="NC_CHECK_"+m,l="NC_HIDDEN_"+m,n=a("#"+o),p=a("#"+l);b.defaultStatusMedia[m]=JSON.parse(q.checked);if(n.length!==0||b.id.question1){if(q.id.toString()==="0"&&(b.countryStatus==="OPT_IN"||b.emailoptInOut==="OPT_OUT")){if(b.id.question1){a("#"+b.id.question1).prop("checked",false).trigger("change")}n.prop("checked",false).trigger("change");p.val("OPT_OUT")}else{if(q.checked==="true"){if(b.id.question1&&q.id.toString()==="0"){a("#"+b.id.question1).prop("checked",true).trigger("change")}n.prop("checked",true).trigger("change");p.val("OPT_IN")}else{if(b.id.question1&&q.id.toString()==="0"){a("#"+b.id.question1).prop("checked",false).trigger("change")}b.defaultunchecked=true;n.prop("checked",false).trigger("change");p.val("OPT_OUT")}}}}});if(b.privacyDiv){b.privacyDiv.find("a").attr("target","_blank")}};f.coutryStatus=function(j){var g=j.OptInContent;var h=b.questionType;switch(h){case"1":case"AllMedia":b.parserData=g.oneQuestionApp;if(g.oneQuestionApp[0].checked==="true"){b.countryStatus="OPT_OUT"}else{b.countryStatus="OPT_IN"}break;case"4":case"questionChoice":b.parserData=g.fourQuestionApp;if(g.fourQuestionApp[0].checked==="true"){b.countryStatus="OPT_OUT"}else{b.countryStatus="OPT_IN"}break;default:b.parserData=g.twoQuestionApp;if(g.twoQuestionApp[0].checked==="true"){b.countryStatus="OPT_OUT"}else{b.countryStatus="OPT_IN"}break}};f.serviceAjaxCall=function(g){a.ajax({dataType:"jsonp",url:g.url,jsonpCallback:g.callback,data:g.data,timeout:g.time}).done(function(h){switch(g.name){case"emailChange":checkOptStatusCallback(h);break;case"officerCode":b.isGranularOn=true;b.retrievedPrefCodes=h.RESDATA.PAC.split(",");a.map(h.RESDATA.MofferCode.split(","),function(j){b.ncHidden_ErrOfferCode+=j+","});f.ecmDataFeedJson();break;case"formSave":b.formLoading=true;if(b.customFlag===false){b.ncForm.find(":submit").trigger("click")}break}}).fail(function(h){if(g.name==="officerCode"){b.isGranularOn=false;f.jsonParser(b)}else{if(g.name==="formSave"){b.formLoading=true;b.ncForm.submit()}else{console.log("Error loading in "+g.name+" Service")}}}).always(function(){b.ajaxCurrentlyRunningOnPage=false})};f.ecmDataFeedJson=function(){var g=b.ecmJsonUrl+"/common/translations/notice/"+b.country+"/"+b.lang+"/nc_granularPreference_v18.js";var h={title:"ecmDataFeedJson",defaultUrl:b.ecmJsonUrl+"/common/translations/notice/zz/en/nc_granularPreference_v18.js",time:5000,flag:false};f.callingEcmSevice(g,h)};f.jsonParser=function(){var g="";if(!b.id.preText&&!b.id.privacyText){if(b.privacyDiv.length===0){return false}}if(b.granular&&b.granular.toLowerCase()==="on"&&b.isGranularOn===true){var o=typeof b.footer!=="undefined"&&b.footer.toLowerCase()==="on"?"F":"L";g=f.granularDisplay(o,b);if(o==="F"){b.privacyDiv.html(g);applyWidget();return}}var p=b.questionChoice.split(",");if(p.length>1&&p.length<5){p.push("1");p=p.filter(function(F,E){return E===p.indexOf(F)});p.sort();b.questionChoice=p.join();f.questionChoicePopulator(g,b)}else{var r=b.parserData;var B=b.responseJsonData.OptInContent;var z="";if((b.granular)&&b.granular.toLowerCase()==="on"&&b.responseJsonData.GranularPreference.EnglishGranularText!==""&&b.lang==="en"){z=b.responseJsonData.GranularPreference.EnglishGranularText}else{if(b.responseJsonData.OtherPreferences.englishNoticeText!==""&&b.lang==="en"){z=b.responseJsonData.OtherPreferences.englishNoticeText}else{z=b.isGranularOn===true?b.responseJsonData.GranularPreference.GranularText:B.preText}}if(b.questionType==="1"){z=B.preText}z="<p id='ncHeading'>"+z+"</p>";if(p.length==1){b.parserData=B.oneQuestionApp}var t=B.postText;if(b.trial){var A=b.responseJsonData.OtherPreferences.trailPrivacyText;matchedValue=A.match(/<tc>.*<\/tc>/g);if(matchedValue){var j=matchedValue[0].replace(/<tc>|<\/tc>/g,"");var n="<a href='"+b.trial+"' target='_blank' class='ibm-tooltip' >"+j+"</a>";var l=new RegExp("<tc>"+j+"</tc>","g");t=A.replace(l,n)}}var q=b.privacyDiv;var D=b.questionType;var h=a("<span class='ibm-input-group'/>");var s="";if(b.isGranularOn){switch(D){case"1":z='<p id="ncHeading">'+b.responseJsonData.GranularPreference.GranularEmailText+"</p>";z+="<input type='hidden' name='NC_HIDDEN_EMAIL' value='"+b.countryStatus+"' id='NC_HIDDEN_EMAIL' />";b.defaultStatusMedia.EMAIL=JSON.parse(r[0].checked);r=[];break;case"AllMedia":z='<p id="ncHeading">'+b.responseJsonData.GranularPreference.GranularText+"</p>";z+="<input type='hidden' name='NC_HIDDEN_AllMedia' value='"+b.countryStatus+"' id='NC_HIDDEN_AllMedia' />";b.defaultStatusMedia.AllMedia=JSON.parse(r[0].checked);r=[];break;default:s="<p>"+b.ncMediaChoice+"</p>";break}}else{if(D==="AllMedia"){var C=a("<p/>",{id:"ncHeading"});var k={type:"checkbox",name:"NC_CHECK_AllMedia",value:"0",id:"NC_CHECK_AllMedia","class":"ncMediaOption ibm-styled-checkbox"};if(b.countryStatus==="OPT_OUT"){k.checked="checked"}var m=a("<input />",k);m.appendTo(C);a("<label/>",{"for":"NC_CHECK_AllMedia",html:b.responseJsonData.OptInContent.preText,css:{display:"inline"},"class":"ibm-field-label"}).appendTo(C);a("<input/>",{type:"hidden",name:"NC_HIDDEN_AllMedia",value:b.countryStatus,id:"NC_HIDDEN_AllMedia","class":"ncMediaOption"}).appendTo(C);var x=a("<span class='ibm-checkbox-wrapper'/>").append(C);h.append(x);z=h;r=[]}else{if(D==="1"){z=""}}}if(typeof z==="object"){b.defaultText=z.text()}else{var v=a(z);var w=v.find("*").not("a");for(var u=w.length-1;u>=0;u--){var y=w[u];a(y).replaceWith(y.innerHTML)}b.defaultText=v.html()}if(b.id.preText&&b.id.privacyText){b.countryStatus;a("#"+b.id.preText).html(z)}else{q.html(z).append(g,s)}a.map(r,function(H){if(H.checked!=="hidden"){if(b.id.question1&&b.labels[H.id]=="EMAIL"){if(H.checked==="true"){a("#"+b.id.question1).prop("checked",true)}}else{if(b.id.question2&&b.labels[H.id]=="OTHER"){if(H.checked==="true"){a("#"+b.id.question2).prop("checked",true)}}}var J="NC_CHECK_"+b.labels[H.id];var E="NC_HIDDEN_"+b.labels[H.id];var I={name:J,value:H.id,type:"checkbox",title:b.labels[H.id]+" CheckBox",id:J,"class":"ncMediaOption ibm-styled-checkbox"};var G="OPT_OUT";if(H.checked==="true"){G="OPT_IN";I.checked="checked"}var K=a("<input />",I);var L=a("<label/>",{"for":J,html:H.optionTextPost,"class":"ibm-field-label"});b.defaultStatusMedia[H.optionTextPost]=JSON.parse(H.checked);I={id:E,name:E,value:G,type:"hidden"};var F=a("<input />",I);if(b.id.question1&&b.id.question2){var M=a("<span/>",{"class":"ibm-checkbox-wrapper"})}else{var M=a("<span/>",{"class":"ibm-checkbox-wrapper"}).append(K,L.css({marginLeft:"5px"}))}h.append(M,F);h.append("<br>")}});if(b.id.preText&&b.id.privacyText){a("#"+b.id.privacyText).html(t).prepend(h).find("br").remove()}else{q.append(h);q.append("<p>"+t+"</p>");b.privacyDiv.find("a").attr("target","_blank")}if(D==="AllMedia"){b.AllMediaObj=a("#NC_CHECK_AllMedia")}}};f.granularDisplay=function(u){if(!b.offerCode){var t=u==="L"?b.dcSubject:b.preferenceareas;if(typeof t!=="undefined"){b.retrievedPrefCodes=t.split(",")}else{b.retrievedPrefCodes=""}}var o=b.responseJsonData.OtherPreferences.allIBMNotice;var s=b.ncECM_JSON;var w=s.preferenceAreas;var l={};var v=[];var r=[];a.map(b.retrievedPrefCodes,function(A){var y={};if(typeof w[A]!=="undefined"){var z=u==="L"?w[A].prefDesc:w[A].footerDesc;var x=u==="L"?w[A].prefCode:w[A].footerCode;if(a.inArray(z,r)===-1&&z!==""){l[A]={};if(u==="L"){l[A]={prefCode:w[A].prefCode,description:z,prefHelp:w[A].prefHelp,prefDesc:w[A].prefDesc}}else{l[A]={prefCode:w[A].footerCode,description:z,prefHelp:w[A].footerHelp,prefDesc:w[A].footerDesc}}y[A]=x;v.push(y);r.push(z)}}else{if(b.ncHidden_ErrPrefCode.indexOf(A)==-1){b.ncHidden_ErrPrefCode+=A+","}}});var m=Object.keys(l).length;if(m!==0){l=f.sortObject(l,"description",b)}l.ncALL_IBM_CHOICE={};l.ncALL_IBM_CHOICE={description:"NC_ALL_IBM_CHOICE",prefHelp:o,prefDesc:o};var g=0;m+=1;var k=m>6?6:m;var q="<div id='NC_Granular_Preferences'><span class='ibm-input-group'>";if(k>1){var p="checked='checked'";var h=true;if(b.countryStatus==="OPT_IN"){p="";h=false}var j,n;for(j in l){if(l.hasOwnProperty(j)){g++;if(g>6){break}n="";if(g>=k){if(u==="L"){n=l.ncALL_IBM_CHOICE;q+='<div  title="'+n.prefHelp+'"><span class="ibm-checkbox-wrapper"><input class="ibm-styled-checkbox"  type="checkbox" id="NC_Granular_Choice_-'+n.description+'" name="NC_Granular_Choice_-'+j+'"><label class="ibm-field-label" for="NC_Granular_Choice_-'+n.description+'">'+n.prefDesc+"</label></span></div>"}}else{n=l[j];q+='<div  title="'+n.prefHelp+'"><span class="ibm-checkbox-wrapper"><input class="ibm-styled-checkbox"  type="checkbox"'+p+' id="NC_Granular_Choice_-'+n.description.replace(/\s+/g,"_")+'" name="NC_Granular_Choice_-'+n.prefCode+'"><label class="ibm-field-label" for="NC_Granular_Choice_-'+n.description.replace(/\s+/g,"_")+'">'+n.prefDesc+"</label></span></div>";b.defaultStatusMedia[n.prefCode]=h}}}b.isGranularOn=true}else{b.isGranularOn=false}q+="</span></div>";q+='<input type="hidden" id="NC_Hidden_ErrOfferCode" name="NC_Hidden_ErrOfferCode" value="'+b.ncHidden_ErrOfferCode+'"></input>';q+="<input type='hidden' id='NC_Hidden_ErrPrefCode' name='NC_Hidden_ErrPrefCode' value='"+b.ncHidden_ErrPrefCode+"'></input>";q+="<input type='hidden' id='NC_Hidden_ShortAreaCodes' name='NC_Hidden_ShortAreaCodes' value='"+JSON.stringify(v)+"'></input>";q+="<input type='hidden' id='NC_Hidden_NoMediErrorText' name='NC_Hidden_NoMediErrorText' value='"+b.ncNoMediaErrorText+"'></input>";return q};f.sortObject=function(h,g){return Object.keys(h).sort(function(k,j){return h[k][g]<h[j][g]?-1:h[j][g]<h[k][g]?1:0}).reduce(function(j,k){j[k]=h[k];return j},{})};f.questionChoicePopulator=function(m){var q=b.questionChoice.split(",");var t=b.parserData;var u=b.responseJsonData.OptInContent;b.defaultStatusMedia={};var g=b.privacyDiv;var l=u.postText;if(b.trial){var o=b.responseJsonData.OtherPreferences.trailPrivacyText;matchedValue=o.match(/<tc>.*<\/tc>/g);if(matchedValue){var k=matchedValue[0].replace(/<tc>|<\/tc>/g,"");var n="<a href='"+b.trial+"' target='_blank' class='ibm-tooltip' >"+k+"</a>";var j=new RegExp("<tc>"+k+"</tc>","g");l=o.replace(j,n)}}var h=b.defaultText=b.isGranularOn===true?b.responseJsonData.GranularPreference.GranularText:u.preText;var s=b.isGranularOn===true?"<p>"+b.ncMediaChoice+"</p>":"";g.html("<p id='ncHeading'>"+h+"</p>").append(m,s);var r={};for(i=0;i<q.length;i++){r[q[i]-1]=q[i]-1}var p=a("<span/>",{"class":"ibm-input-group"});a.each(t,function(A,x){if(typeof r[A]!=="undefined"&&r[A].toString()===x.id){var C={};if(x.checked!=="hidden"){C=b.labels[x.id];var z="NC_CHECK_"+C;var v="NC_HIDDEN_"+C;var y={name:z,value:x.id,type:"checkbox",title:b.labels[x.id]+" CheckBox",id:z,"class":"ncMediaOption ibm-styled-checkbox"};var E="OPT_OUT";if(x.checked==="true"){y.checked="checked";E="OPT_IN"}b.defaultStatusMedia[C]=JSON.parse(x.checked);var B=a("<input />",y);C=a("<label/>",{"for":z,html:x.optionTextPost,"class":"ibm-field-label"});y={id:v,name:v,value:E,type:"hidden"};var w=a("<input />",y);var D=a("<span/>",{"class":"ibm-checkbox-wrapper"}).append(B,C);p.append(D,w);p.append("<br>")}}});g.append(p);g.append("<p>"+l+"</p>");b.privacyDiv.find("a").attr("target","_blank")};f.onChangeCountry=function(g){if(g===null||g===""){return}console.log(g);var l=g.toLowerCase(),k=typeof b.noticechoiceStatus[g.toLowerCase()]==="undefined"?"zz":b.noticechoiceStatus[g.toLowerCase()].lang,h=b.ecmJsonUrl+"/common/translations/"+l+"/"+k+"/nc_content_v18.js";var j={title:"countryChange",defaultUrl:b.ecmJsonUrl+"/common/translations/zz/en/nc_content_v18.js",time:5000,flag:false};f.callingEcmSevice(h,j)};f.initDom=function(){var j=a("#"+b.id.country);if(j.length!==0){b.countryObj=j;j.on("change",function(){var k=a.trim(a(this).val());if(k!==""){if(k.length>2){k=b.countryvalue[k]}f.onChangeCountry(k,b)}else{f.changeFormCountryOptions(b.responseJsonData,b)}})}var g=a("#"+b.id.email);if(g.length!==0){g.on("change",function(){var k=a(this).val();var l=/^[a-zA-Z0-9.!#\[\]$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/g;if(a.trim(k)!==""&&l.test(k)){f.onChangeEmail(a(this).val())}else{if(j.length!==0&&j.val()!==""){b.emailoptInOut="DEFAULT";f.coutryStatus(b.countryData);f.changeFormCountryOptions(b.countryData)}else{b.emailoptInOut="DEFAULT";f.coutryStatus(b.responseJsonData);f.changeFormCountryOptions(b.responseJsonData)}}})}if(g.length!==0&&b.ncForm.length!==0){var h=b.id.customButton;if(typeof h!=="undefined"&&h!==""){a("#"+h).on("click",function(k){k.stopPropagation();b.customFlag=true;if(b.ajaxCurrentlyRunningOnPage){setTimeout(function(){return f.submitNCForm(g.val())},2000);return false}else{return f.submitNCForm(g.val())}})}b.ncForm.on("submit",function(k){if(b.Submit){if(b.Submit.toLowerCase()!=="false"){k.cancelBubble=true;k.stopPropagation();if(b.ajaxCurrentlyRunningOnPage){setTimeout(function(){return f.submitNCForm(g.val())},2000);return false}else{return f.submitNCForm(g.val())}}}else{k.cancelBubble=true;k.stopPropagation();if(b.ajaxCurrentlyRunningOnPage){setTimeout(function(){return f.submitNCForm(g.val())},2000);return false}else{return f.submitNCForm(g.val())}}})}if(!b.id.preText&&!b.id.privacyText){a("#"+b.id.privacyDiv).off("change click");a("#"+b.id.privacyDiv).on("change click"," input[type=checkbox]",function(l){var k=a(this).attr("name");if(l.type=="click"){b.checkBoxFlag=true;if(a.inArray(k,b.mediaClick)===-1){b.mediaClick.push(k)}if(k==="NC_CHECK_EMAIL"||k==="NC_CHECK_AllMedia"){b.noticeOptionChangedEmailOrAllMedia=true}}if(l.type==="change"&&b.checkBoxFlag===true){d();f.onClickMediaOption(k)}})}else{a("#"+b.id.form).on("change click"," input[type=checkbox]",function(l){var k=a(this).attr("name");if(l.type=="click"){b.checkBoxFlag=true;if(a.inArray(k,b.mediaClick)===-1){b.mediaClick.push(k)}if(a(this).attr("id")===a("#"+b.id.question1).attr("id")){b.noticeOptionChangedEmailOrAllMedia=true}}if(l.type==="change"&&b.checkBoxFlag===true){f.onClickMediaOption(k)}})}};f.onClickMediaOption=function(j){b.noticeOptionChanged=true;var l=j.split("-")[1];if(typeof l==="undefined"){l=j}b.userChangOption[l]={OrignalvalueChanged:true};if(a.inArray(j,b.mediaOptionsCheckboxIDs)===-1){return}if(a(".ncMediaOption").length!==0){var k=a(".ncMediaOption:checked").length,g=a("#NC_Granular_Preferences :checked");if((k===0)&&(g.length>0)){alert(b.ncNoMediaErrorText);var h=a(".ncMediaOption:checkbox").first().parents("span");h.css("border","1px dotted red");setTimeout(function(){h.removeAttr("style")},2000)}}};f.setWorldWide=function(){return{cc_name:"zz",cc_lang:"en",cc_default_status:"OPT_IN",OptInContent:{preText:"Please keep me informed of products, services and offerings from IBM companies worldwide.",oneQuestionApp:[{id:"0",optionTextPre:"",checked:"false",optionTextPost:"Please keep me informed by email of products, services and offerings from IBM companies worldwide."}],twoQuestionApp:[{id:"0",optionTextPre:"",checked:"false",optionTextPost:"by email."},{id:"4",optionTextPre:"",checked:"true",optionTextPost:"by telephone or postal mail."}],fourQuestionApp:[{id:"0",optionTextPre:"",checked:"false",optionTextPost:"by email."},{id:"1",optionTextPre:"",checked:"false",optionTextPost:"by telephone."},{id:"2",optionTextPre:"",checked:"true",optionTextPost:"by postal mail."},{id:"3",optionTextPre:"",checked:"hidden",optionTextPost:""}],postText:"By submitting this form I agree that IBM may process my data in the manner indicated above and as described in <a href='http://www.ibm.com/privacy/zz/en/' target='_blank'>IBM's Privacy statement</a>."},GranularPreference:{GranularEmailText:"Please keep me informed by email of products, services and offerings from IBM companies worldwide.  Check the boxes below to receive more information about:",GranularText:"Please keep me informed of products, services and offerings from IBM companies worldwide.  Check the boxes below to receive more information about:",EnglishGranularText:""},OtherPreferences:{allIBMNotice:"I would also like to receive information about other IBM products.",englishNoticeText:"",allIBMNoticeChecked:"false",noMediaErrorTextt:"You have selected a product category, please select your preferred media choice.",mediaChoice:"Please tell us how you would like to be contacted.",trailPrivacyText:"By submitting this form I agree that IBM may process my data in the manner indicated above and as described in <a href='http://www.ibm.com/privacy/zz/en' target='_blank'>IBM's Privacy statement</a> and <tc>Terms and Conditions</tc>."}}};f.onChangeEmail=function(h){if(b.noticeOptionChanged===true){return true}var g={data:{country:b.country,language:b.lang,sid:101,emailAddress:h},time:5000,url:b.serverUrl+"/Controller",callback:"checkOptStatusCallback",name:"emailChange"};b.ajaxCurrentlyRunningOnPage=true;f.serviceAjaxCall(g)};checkOptStatusCallback=function(k){b.defaultunchecked=false;var h=k.OPTSTATUS;if(b.isGranularOn===true){a("#NC_Granular_Preferences :input[type=checkbox]:not(:last)").prop("checked",true).trigger("change")}var j;switch(h.toString()){case"0":b.emailoptInOut="OPT_IN";break;case"1":b.emailoptInOut="OPT_OUT";b.defaultunchecked=true;j=a("#NC_CHECK_EMAIL");if(j.length!==0){j.prop("checked",false).trigger("change")}if(b.AllMediaObj.length!==0){b.AllMediaObj.prop("checked",false).trigger("change")}break;case"2":b.emailoptInOut="NEW";break;case"3":case"4":b.emailoptInOut="ERROR";break}var g=b.countryObj.val();if(g){f.changeFormCountryOptions(b.countryData,b)}else{f.changeFormCountryOptions(b.responseJsonData,b)}};function d(){e.mediaOptions={AllMedia:{},EMAIL:{status:"",value:0},PHONE:{status:"",value:-9,hidden:""},POSTAL:{status:"",value:-9,hidden:""},FAX:{status:"",value:-9,hidden:""},OTHER:{status:"",value:-9,hidden:""}},container=b.privacyDiv,mediaHiddenBox=[],mediaCheckbox=[],emailOptCurrentStatus="",checkbox=[];if(b.id.preText&&b.id.privacyText){container=a("#"+b.id.form)}if((b.questionType==="AllMedia"||b.questionType==="1")&&b.isGranularOn===true){b.noticeOptionChanged=false;b.checkBoxFlag=false}if(b.questionType==="AllMedia"){emailOptCurrentStatus=e.mediaOptions.EMAIL.status=b.countryStatus;if(b.defaultunchecked===true||b.noticeOptionChanged===true){emailOptCurrentStatus="UNCHANGED";e.mediaOptions.EMAIL.status="OPT_IN"}var h=a("#NC_CHECK_AllMedia");if(h.length!==0){if(h.get(0).checked===true){emailOptCurrentStatus=e.mediaOptions.EMAIL.status="OPT_OUT"}else{if(b.noticeOptionChanged===false){a("#NC_HIDDEN_AllMedia").val("OPT_IN")}}}mediaHiddenBox=container.find("[name^=NC_HIDDEN_]")}else{if(b.id.preText&&b.id.privacyText){mediaCheckbox=container.find("input[type=checkbox]")}else{mediaCheckbox=container.children(".ibm-input-group").find("input[type=checkbox]")}mediaHiddenBox=container.find("[name^=NC_HIDDEN_]")}if(mediaCheckbox.length!==0){a.map(e.mediaOptions,function(k,l){if(b.id.preText&&b.id.privacyText){if(l=="EMAIL"){checkbox=a("#"+b.id.question1)}else{checkbox=a("#"+b.id.question2)}}else{checkbox=mediaCheckbox.filter("#NC_CHECK_"+l)}if(checkbox.length!==0){switch(l){case"AllMedia":case"EMAIL":if(checkbox.get(0).checked){emailOptCurrentStatus=e.mediaOptions.EMAIL.status="OPT_OUT"}else{if(b.emailoptInOut==="OPT_IN"||b.defaultunchecked===true){emailOptCurrentStatus=checkbox.get(0).checked===true?"OPT_IN":"UNCHANGED";e.mediaOptions.EMAIL.status="OPT_IN"}else{e.mediaOptions.EMAIL.status="OPT_IN";emailOptCurrentStatus="UNCHANGED"}}break;default:e.mediaOptions[l].hidden=mediaHiddenBox.filter("#NC_HIDDEN_"+l).val();e.mediaOptions[l].value=checkbox.get(0).value;if(checkbox.get(0).checked){e.mediaOptions[l].status="OPT_OUT"}else{e.mediaOptions[l].status=checkbox.get(0).checked===true?"OPT_IN":"UNCHANGED"}break}}})}if(e.mediaOptions.EMAIL.status===""){if(b.emailoptInOut==="OPT_IN"||b.emailoptInOut==="OPT_OUT"){emailOptCurrentStatus=e.mediaOptions.EMAIL.status=b.emailoptInOut}else{emailOptCurrentStatus=e.mediaOptions.EMAIL.status=b.countryStatus}}var g=[];a.map(e.mediaOptions,function(l,k){g=mediaHiddenBox.filter("#NC_HIDDEN_"+k);if(g.length!==0){switch(k){case"AllMedia":case"EMAIL":if(b.id.preText&&b.id.privacyText){question1=a("#"+b.id.question1);checkboxname=question1.attr("name");setvalue=f.setStatus(g.val(),emailOptCurrentStatus,checkboxname);g.val(setvalue);question1.val(setvalue);name=question1.attr("name");hiddenbox=question1.parents("div").find("[name="+name+"][type=hidden]");hiddenbox.val(setvalue)}else{g.val(f.setStatus(g.val(),emailOptCurrentStatus,"NC_CHECK_"+k))}break;default:if(b.id.preText&&b.id.privacyText){question2=a("#"+b.id.question2);checkboxname=question2.attr("name");setvalue=f.setStatus(g.val(),e.mediaOptions[k].status,checkboxname);question2.val(setvalue);g.val(setvalue);name=question2.attr("name");hiddenbox=question2.parents("div").find("[name="+name+"][type=hidden]");hiddenbox.val(setvalue)}else{g.val(f.setStatus(g.val(),e.mediaOptions[k].status,"NC_CHECK_"+k))}break}}});var j=typeof b.footer!=="undefined"&&b.footer.toLowerCase()==="on"?"F":"L";if(b.isGranularOn===true&&j==="L"){f.setUPGranularpairs(mediaHiddenBox,container,mediaCheckbox,b)}emailAjaxValue="";if(b.isGranularOn===true&&b.questionType.toLowerCase()==="allmedia"){emailAjaxValue=a("#ALL_IBM_AllMedia").val()}else{if(b.questionType.toLowerCase()==="allmedia"){emailAjaxValue=a("#NC_HIDDEN_AllMedia").val()}else{if(b.isGranularOn===true){emailAjaxValue=a("#ALL_IBM_EMAIL").val()}else{emailAjaxValue=a("#NC_HIDDEN_EMAIL").val()}}}if(emailAjaxValue==="SUPRESSION"){emailAjaxValue="OPT_OUT"}else{if(emailAjaxValue==="PERMISSION"){emailAjaxValue="OPT_IN"}}}f.submitNCForm=function(k){if(b.formLoading===true&&b.customFlag===true){return false}else{if(b.formLoading===true){return true}}d();if(typeof b.footer!=="undefined"&&b.footer.toLowerCase()==="on"&&b.isGranularOn===true){b.SaveToGECS="false"}var h=b.pageDesc+" :: Form Country : "+b.formCountry+" ::  QUESTION TYPE : "+b.countryStatus;var j={country:b.country,language:b.lang,PAGEDESC:h,sid:"102",emailAddress:k,oldEmailStatus:b.emailoptInOut,NC_CHECK_EMAIL:emailAjaxValue,NC_ID_EMAIL:e.mediaOptions.EMAIL.value,OLD_NC_CHECK_PHONE:e.mediaOptions.PHONE.hidden,NC_CHECK_PHONE:e.mediaOptions.PHONE.status,NC_ID_PHONE:e.mediaOptions.PHONE.value,OLD_NC_CHECK_POSTAL:e.mediaOptions.POSTAL.hidden,NC_CHECK_POSTAL:e.mediaOptions.POSTAL.status,NC_ID_POSTAL:e.mediaOptions.POSTAL.value,OLD_NC_CHECK_FAX:e.mediaOptions.FAX.hidden,NC_CHECK_FAX:e.mediaOptions.FAX.status,NC_ID_FAX:e.mediaOptions.FAX.value,OLD_NC_CHECK_OTHER:e.mediaOptions.OTHER.hidden,NC_CHECK_OTHER:e.mediaOptions.OTHER.status,NC_ID_OTHER:e.mediaOptions.OTHER.value,saveToGECS:(b.SaveToGECS&&b.SaveToGECS.toLowerCase()==="false")?false:true};var g={url:b.serverUrl+"/Controller",callback:"formSubmitNCCallback",time:8000,data:j,name:"formSave"};setTimeout(function(){f.serviceAjaxCall(g);return false},500)};f.setStatus=function(g,h,k){var j="";if(h==="OPT_OUT"){j="PERMISSION"}else{if((g=="OPT_OUT"||g==="NEW"||g==="OPT_IN")&&(h==="OPT_IN"&&b.checkBoxFlag===false)){j="PERMISSION"}else{if(a.inArray(k,b.mediaClick)!==-1&&(h==="OPT_IN"||h=="UNCHANGED")){j="SUPRESSION"}else{j="UNCHANGED"}}}return j};f.setUPGranularpairs=function(l,g,p,k){var j=a("#NC_Granular_Preferences input"),q=[],n={},o=false,h=false,m="";a.each(l,function(){var r=a(this).val(),s=a(this).attr("name").split("_")[2];n={};a.each(j,function(){var t=a(this).attr("name");t=t.split("-")[1];t=t.indexOf("ALL_IBM")!==-1?"ALL_IBM":t;m=r;if(t==="ALL_IBM"){m=m=="SUPRESSION"?"PERMISSION":m;h=a(this).get(0).checked;m=m=="PERMISSION"&&h===false?"UNCHANGED":m;if(k.nc_ifAllIBMChecked!==h){m=a(this).get(0).checked===true?m:"SUPRESSION";if(a("#NC_CHECK_"+s).length!==0){o=a("#NC_CHECK_"+s).get(0).checked;if(o!==k.defaultStatusMedia[s]){m=o===true?m:"UNCHANGED"}}}}else{o=a(this).get(0).checked===true?true:false;if(k.countryStatus==="OPT_OUT"){if(a("#NC_CHECK_"+s).length!==0){o=a("#NC_CHECK_"+s).get(0).checked}m=o===true?"Permission":"UNCHANGED";if(typeof(k.defaultStatusMedia[s])!="undefined"&&k.defaultStatusMedia[s]!=="hidden"){if(o!=k.defaultStatusMedia[s]){m=o===true?"Permission":"SUPRESSION"}}}var u=k.userChangOption[t];if(typeof u==="undefined"&&k.countryStatus==="OPT_IN"){m=n[t]="UNCHANGED"}else{n[t]=m}}a("<input/>").attr({type:"Hidden",value:m,name:t+"_"+s,id:t+"_"+s}).appendTo(g)});q.push(n)});a("#NC_Hidden_ShortAreaCodes").val(JSON.stringify(q))};f.init()}}(jQuery));